<template>
<div class="rule" ref="rule">
  <span class="top-left-corner"></span>
  <svg class="rule-x" ref="ruleX" style="width: 1525px;">
    <path d="M1510.5 19.5L1510.5 -0.5" stroke="#999999" style=""></path>
    <text x="1516" y="11">
    1400
    </text>
    <path d="M1500.5 19.5L1500.5 12.5" stroke="#999999" style=""></path>
    <path d="M1490.5 19.5L1490.5 12.5" stroke="#999999" style=""></path>
    <path d="M1480.5 19.5L1480.5 12.5" stroke="#999999" style=""></path>
    <path d="M1470.5 19.5L1470.5 12.5" stroke="#999999" style=""></path>
    <path d="M1460.5 19.5L1460.5 12.5" stroke="#999999" style=""></path>
    <path d="M1450.5 19.5L1450.5 12.5" stroke="#999999" style=""></path>
    <path d="M1440.5 19.5L1440.5 12.5" stroke="#999999" style=""></path>
    <path d="M1430.5 19.5L1430.5 12.5" stroke="#999999" style=""></path>
    <path d="M1420.5 19.5L1420.5 12.5" stroke="#999999" style=""></path>
    <path d="M1410.5 19.5L1410.5 -0.5" stroke="#999999" style=""></path>
    <text x="1416" y="11">
    1300
    </text>
    <path d="M1400.5 19.5L1400.5 12.5" stroke="#999999" style=""></path>
    <path d="M1390.5 19.5L1390.5 12.5" stroke="#999999" style=""></path>
    <path d="M1380.5 19.5L1380.5 12.5" stroke="#999999" style=""></path>
    <path d="M1370.5 19.5L1370.5 12.5" stroke="#999999" style=""></path>
    <path d="M1360.5 19.5L1360.5 12.5" stroke="#999999" style=""></path>
    <path d="M1350.5 19.5L1350.5 12.5" stroke="#999999" style=""></path>
    <path d="M1340.5 19.5L1340.5 12.5" stroke="#999999" style=""></path>
    <path d="M1330.5 19.5L1330.5 12.5" stroke="#999999" style=""></path>
    <path d="M1320.5 19.5L1320.5 12.5" stroke="#999999" style=""></path>
    <path d="M1310.5 19.5L1310.5 -0.5" stroke="#999999" style=""></path>
    <text x="1316" y="11">
    1200
    </text>
    <path d="M1300.5 19.5L1300.5 12.5" stroke="#999999" style=""></path>
    <path d="M1290.5 19.5L1290.5 12.5" stroke="#999999" style=""></path>
    <path d="M1280.5 19.5L1280.5 12.5" stroke="#999999" style=""></path>
    <path d="M1270.5 19.5L1270.5 12.5" stroke="#999999" style=""></path>
    <path d="M1260.5 19.5L1260.5 12.5" stroke="#999999" style=""></path>
    <path d="M1250.5 19.5L1250.5 12.5" stroke="#999999" style=""></path>
    <path d="M1240.5 19.5L1240.5 12.5" stroke="#999999" style=""></path>
    <path d="M1230.5 19.5L1230.5 12.5" stroke="#999999" style=""></path>
    <path d="M1220.5 19.5L1220.5 12.5" stroke="#999999" style=""></path>
    <path d="M1210.5 19.5L1210.5 -0.5" stroke="#999999" style=""></path>
    <text x="1216" y="11">
    1100
    </text>
    <path d="M1200.5 19.5L1200.5 12.5" stroke="#999999" style=""></path>
    <path d="M1190.5 19.5L1190.5 12.5" stroke="#999999" style=""></path>
    <path d="M1180.5 19.5L1180.5 12.5" stroke="#999999" style=""></path>
    <path d="M1170.5 19.5L1170.5 12.5" stroke="#999999" style=""></path>
    <path d="M1160.5 19.5L1160.5 12.5" stroke="#999999" style=""></path>
    <path d="M1150.5 19.5L1150.5 12.5" stroke="#999999" style=""></path>
    <path d="M1140.5 19.5L1140.5 12.5" stroke="#999999" style=""></path>
    <path d="M1130.5 19.5L1130.5 12.5" stroke="#999999" style=""></path>
    <path d="M1120.5 19.5L1120.5 12.5" stroke="#999999" style=""></path>
    <path d="M1110.5 19.5L1110.5 -0.5" stroke="#999999" style=""></path>
    <text x="1116" y="11">
    1000
    </text>
    <path d="M1100.5 19.5L1100.5 12.5" stroke="#999999" style=""></path>
    <path d="M1090.5 19.5L1090.5 12.5" stroke="#999999" style=""></path>
    <path d="M1080.5 19.5L1080.5 12.5" stroke="#999999" style=""></path>
    <path d="M1070.5 19.5L1070.5 12.5" stroke="#999999" style=""></path>
    <path d="M1060.5 19.5L1060.5 12.5" stroke="#999999" style=""></path>
    <path d="M1050.5 19.5L1050.5 12.5" stroke="#999999" style=""></path>
    <path d="M1040.5 19.5L1040.5 12.5" stroke="#999999" style=""></path>
    <path d="M1030.5 19.5L1030.5 12.5" stroke="#999999" style=""></path>
    <path d="M1020.5 19.5L1020.5 12.5" stroke="#999999" style=""></path>
    <path d="M1010.5 19.5L1010.5 -0.5" stroke="#999999" style=""></path>
    <text x="1016" y="11">
    900
    </text>
    <path d="M1000.5 19.5L1000.5 12.5" stroke="#999999" style=""></path>
    <path d="M990.5 19.5L990.5 12.5" stroke="#999999" style=""></path>
    <path d="M980.5 19.5L980.5 12.5" stroke="#999999" style=""></path>
    <path d="M970.5 19.5L970.5 12.5" stroke="#999999" style=""></path>
    <path d="M960.5 19.5L960.5 12.5" stroke="#999999" style=""></path>
    <path d="M950.5 19.5L950.5 12.5" stroke="#999999" style=""></path>
    <path d="M940.5 19.5L940.5 12.5" stroke="#999999" style=""></path>
    <path d="M930.5 19.5L930.5 12.5" stroke="#999999" style=""></path>
    <path d="M920.5 19.5L920.5 12.5" stroke="#999999" style=""></path>
    <path d="M910.5 19.5L910.5 -0.5" stroke="#999999" style=""></path>
    <text x="916" y="11">
    800
    </text>
    <path d="M900.5 19.5L900.5 12.5" stroke="#999999" style=""></path>
    <path d="M890.5 19.5L890.5 12.5" stroke="#999999" style=""></path>
    <path d="M880.5 19.5L880.5 12.5" stroke="#999999" style=""></path>
    <path d="M870.5 19.5L870.5 12.5" stroke="#999999" style=""></path>
    <path d="M860.5 19.5L860.5 12.5" stroke="#999999" style=""></path>
    <path d="M850.5 19.5L850.5 12.5" stroke="#999999" style=""></path>
    <path d="M840.5 19.5L840.5 12.5" stroke="#999999" style=""></path>
    <path d="M830.5 19.5L830.5 12.5" stroke="#999999" style=""></path>
    <path d="M820.5 19.5L820.5 12.5" stroke="#999999" style=""></path>
    <path d="M810.5 19.5L810.5 -0.5" stroke="#999999" style=""></path>
    <text x="816" y="11">
    700
    </text>
    <path d="M800.5 19.5L800.5 12.5" stroke="#999999" style=""></path>
    <path d="M790.5 19.5L790.5 12.5" stroke="#999999" style=""></path>
    <path d="M780.5 19.5L780.5 12.5" stroke="#999999" style=""></path>
    <path d="M770.5 19.5L770.5 12.5" stroke="#999999" style=""></path>
    <path d="M760.5 19.5L760.5 12.5" stroke="#999999" style=""></path>
    <path d="M750.5 19.5L750.5 12.5" stroke="#999999" style=""></path>
    <path d="M740.5 19.5L740.5 12.5" stroke="#999999" style=""></path>
    <path d="M730.5 19.5L730.5 12.5" stroke="#999999" style=""></path>
    <path d="M720.5 19.5L720.5 12.5" stroke="#999999" style=""></path>
    <path d="M710.5 19.5L710.5 -0.5" stroke="#999999" style=""></path>
    <text x="716" y="11">
    600
    </text>
    <path d="M700.5 19.5L700.5 12.5" stroke="#999999" style=""></path>
    <path d="M690.5 19.5L690.5 12.5" stroke="#999999" style=""></path>
    <path d="M680.5 19.5L680.5 12.5" stroke="#999999" style=""></path>
    <path d="M670.5 19.5L670.5 12.5" stroke="#999999" style=""></path>
    <path d="M660.5 19.5L660.5 12.5" stroke="#999999" style=""></path>
    <path d="M650.5 19.5L650.5 12.5" stroke="#999999" style=""></path>
    <path d="M640.5 19.5L640.5 12.5" stroke="#999999" style=""></path>
    <path d="M630.5 19.5L630.5 12.5" stroke="#999999" style=""></path>
    <path d="M620.5 19.5L620.5 12.5" stroke="#999999" style=""></path>
    <path d="M610.5 19.5L610.5 -0.5" stroke="#999999" style=""></path>
    <text x="616" y="11">
    500
    </text>
    <path d="M600.5 19.5L600.5 12.5" stroke="#999999" style=""></path>
    <path d="M590.5 19.5L590.5 12.5" stroke="#999999" style=""></path>
    <path d="M580.5 19.5L580.5 12.5" stroke="#999999" style=""></path>
    <path d="M570.5 19.5L570.5 12.5" stroke="#999999" style=""></path>
    <path d="M560.5 19.5L560.5 12.5" stroke="#999999" style=""></path>
    <path d="M550.5 19.5L550.5 12.5" stroke="#999999" style=""></path>
    <path d="M540.5 19.5L540.5 12.5" stroke="#999999" style=""></path>
    <path d="M530.5 19.5L530.5 12.5" stroke="#999999" style=""></path>
    <path d="M520.5 19.5L520.5 12.5" stroke="#999999" style=""></path>
    <path d="M510.5 19.5L510.5 -0.5" stroke="#999999" style=""></path>
    <text x="516" y="11">
    400
    </text>
    <path d="M500.5 19.5L500.5 12.5" stroke="#999999" style=""></path>
    <path d="M490.5 19.5L490.5 12.5" stroke="#999999" style=""></path>
    <path d="M480.5 19.5L480.5 12.5" stroke="#999999" style=""></path>
    <path d="M470.5 19.5L470.5 12.5" stroke="#999999" style=""></path>
    <path d="M460.5 19.5L460.5 12.5" stroke="#999999" style=""></path>
    <path d="M450.5 19.5L450.5 12.5" stroke="#999999" style=""></path>
    <path d="M440.5 19.5L440.5 12.5" stroke="#999999" style=""></path>
    <path d="M430.5 19.5L430.5 12.5" stroke="#999999" style=""></path>
    <path d="M420.5 19.5L420.5 12.5" stroke="#999999" style=""></path>
    <path d="M410.5 19.5L410.5 -0.5" stroke="#999999" style=""></path>
    <text x="416" y="11">
    300
    </text>
    <path d="M400.5 19.5L400.5 12.5" stroke="#999999" style=""></path>
    <path d="M390.5 19.5L390.5 12.5" stroke="#999999" style=""></path>
    <path d="M380.5 19.5L380.5 12.5" stroke="#999999" style=""></path>
    <path d="M370.5 19.5L370.5 12.5" stroke="#999999" style=""></path>
    <path d="M360.5 19.5L360.5 12.5" stroke="#999999" style=""></path>
    <path d="M350.5 19.5L350.5 12.5" stroke="#999999" style=""></path>
    <path d="M340.5 19.5L340.5 12.5" stroke="#999999" style=""></path>
    <path d="M330.5 19.5L330.5 12.5" stroke="#999999" style=""></path>
    <path d="M320.5 19.5L320.5 12.5" stroke="#999999" style=""></path>
    <path d="M310.5 19.5L310.5 -0.5" stroke="#999999" style=""></path>
    <text x="316" y="11">
    200
    </text>
    <path d="M300.5 19.5L300.5 12.5" stroke="#999999" style=""></path>
    <path d="M290.5 19.5L290.5 12.5" stroke="#999999" style=""></path>
    <path d="M280.5 19.5L280.5 12.5" stroke="#999999" style=""></path>
    <path d="M270.5 19.5L270.5 12.5" stroke="#999999" style=""></path>
    <path d="M260.5 19.5L260.5 12.5" stroke="#999999" style=""></path>
    <path d="M250.5 19.5L250.5 12.5" stroke="#999999" style=""></path>
    <path d="M240.5 19.5L240.5 12.5" stroke="#999999" style=""></path>
    <path d="M230.5 19.5L230.5 12.5" stroke="#999999" style=""></path>
    <path d="M220.5 19.5L220.5 12.5" stroke="#999999" style=""></path>
    <path d="M0.5 19.5L0.5 12.5" stroke="#999999" style=""></path>
    <path d="M210.5 19.5L210.5 -0.5" stroke="#999999" style=""></path>
    <path d="M10.5 19.5L10.5 -0.5" stroke="#999999" style=""></path>
    <text x="216" y="11">
    100
    </text>
    <path d="M200.5 19.5L200.5 12.5" stroke="#999999" style=""></path>
    <path d="M20.5 19.5L20.5 12.5" stroke="#999999" style=""></path>
    <path d="M190.5 19.5L190.5 12.5" stroke="#999999" style=""></path>
    <path d="M30.5 19.5L30.5 12.5" stroke="#999999" style=""></path>
    <path d="M180.5 19.5L180.5 12.5" stroke="#999999" style=""></path>
    <path d="M40.5 19.5L40.5 12.5" stroke="#999999" style=""></path>
    <path d="M170.5 19.5L170.5 12.5" stroke="#999999" style=""></path>
    <path d="M50.5 19.5L50.5 12.5" stroke="#999999" style=""></path>
    <path d="M160.5 19.5L160.5 12.5" stroke="#999999" style=""></path>
    <path d="M60.5 19.5L60.5 12.5" stroke="#999999" style=""></path>
    <path d="M150.5 19.5L150.5 12.5" stroke="#999999" style=""></path>
    <path d="M70.5 19.5L70.5 12.5" stroke="#999999" style=""></path>
    <path d="M140.5 19.5L140.5 12.5" stroke="#999999" style=""></path>
    <path d="M80.5 19.5L80.5 12.5" stroke="#999999" style=""></path>
    <path d="M130.5 19.5L130.5 12.5" stroke="#999999" style=""></path>
    <path d="M90.5 19.5L90.5 12.5" stroke="#999999" style=""></path>
    <path d="M120.5 19.5L120.5 12.5" stroke="#999999" style=""></path>
    <path d="M100.5 19.5L100.5 12.5" stroke="#999999" style=""></path>
    <path d="M110.5 19.5L110.5 -0.5" stroke="#999999" style=""></path>
    <path d="M110.5 19.5L110.5 -0.5" stroke="#999999" style=""></path>
    <text x="116" y="11">
    0
    </text>
    <path d="M100.5 19.5L100.5 12.5" stroke="#999999" style=""></path>
    <path d="M120.5 19.5L120.5 12.5" stroke="#999999" style=""></path>
  </svg>

  <div id="phone-container" ref="phone-container" class="ps-container ps-theme-hide" data-ps-id="1ddd2ba3-6c04-077b-2d60-32d7c8fe3c7b">
    <svg class="rule-y" ref="ruleY" style="height: 899px;">
      <path d="M19.5 879.5L12.5 879.5" stroke="#999999" style=""></path>
      <path d="M19.5 869.5L12.5 869.5" stroke="#999999" style=""></path>
      <path d="M19.5 859.5L12.5 859.5" stroke="#999999" style=""></path>
      <path d="M19.5 849.5L12.5 849.5" stroke="#999999" style=""></path>
      <path d="M19.5 839.5L12.5 839.5" stroke="#999999" style=""></path>
      <path d="M19.5 829.5L12.5 829.5" stroke="#999999" style=""></path>
      <path d="M19.5 819.5L12.5 819.5" stroke="#999999" style=""></path>
      <path d="M19.5 809.5L-0.5 809.5" stroke="#999999" style=""></path>
      <text x="15" y="810" transform="matrix(0,-1,1,0,-798,822)">
        700
      </text>
      <path d="M19.5 799.5L12.5 799.5" stroke="#999999" style=""></path>
      <path d="M19.5 789.5L12.5 789.5" stroke="#999999" style=""></path>
      <path d="M19.5 779.5L12.5 779.5" stroke="#999999" style=""></path>
      <path d="M19.5 769.5L12.5 769.5" stroke="#999999" style=""></path>
      <path d="M19.5 759.5L12.5 759.5" stroke="#999999" style=""></path>
      <path d="M19.5 749.5L12.5 749.5" stroke="#999999" style=""></path>
      <path d="M19.5 739.5L12.5 739.5" stroke="#999999" style=""></path>
      <path d="M19.5 729.5L12.5 729.5" stroke="#999999" style=""></path>
      <path d="M19.5 719.5L12.5 719.5" stroke="#999999" style=""></path>
      <path d="M19.5 709.5L-0.5 709.5" stroke="#999999" style=""></path>
      <text x="15" y="710" transform="matrix(0,-1,1,0,-698,722)">
        600
      </text>
      <path d="M19.5 699.5L12.5 699.5" stroke="#999999" style=""></path>
      <path d="M19.5 689.5L12.5 689.5" stroke="#999999" style=""></path>
      <path d="M19.5 679.5L12.5 679.5" stroke="#999999" style=""></path>
      <path d="M19.5 669.5L12.5 669.5" stroke="#999999" style=""></path>
      <path d="M19.5 659.5L12.5 659.5" stroke="#999999" style=""></path>
      <path d="M19.5 649.5L12.5 649.5" stroke="#999999" style=""></path>
      <path d="M19.5 639.5L12.5 639.5" stroke="#999999" style=""></path>
      <path d="M19.5 629.5L12.5 629.5" stroke="#999999" style=""></path>
      <path d="M19.5 619.5L12.5 619.5" stroke="#999999" style=""></path>
      <path d="M19.5 609.5L-0.5 609.5" stroke="#999999" style=""></path>
      <text x="15" y="610" transform="matrix(0,-1,1,0,-598,622)">
        500
      </text>
      <path d="M19.5 599.5L12.5 599.5" stroke="#999999" style=""></path>
      <path d="M19.5 589.5L12.5 589.5" stroke="#999999" style=""></path>
      <path d="M19.5 579.5L12.5 579.5" stroke="#999999" style=""></path>
      <path d="M19.5 569.5L12.5 569.5" stroke="#999999" style=""></path>
      <path d="M19.5 559.5L12.5 559.5" stroke="#999999" style=""></path>
      <path d="M19.5 549.5L12.5 549.5" stroke="#999999" style=""></path>
      <path d="M19.5 539.5L12.5 539.5" stroke="#999999" style=""></path>
      <path d="M19.5 529.5L12.5 529.5" stroke="#999999" style=""></path>
      <path d="M19.5 519.5L12.5 519.5" stroke="#999999" style=""></path>
      <path d="M19.5 509.5L-0.5 509.5" stroke="#999999" style=""></path>
      <text x="15" y="510" transform="matrix(0,-1,1,0,-498,522)">
        400
      </text>
      <path d="M19.5 499.5L12.5 499.5" stroke="#999999" style=""></path>
      <path d="M19.5 489.5L12.5 489.5" stroke="#999999" style=""></path>
      <path d="M19.5 479.5L12.5 479.5" stroke="#999999" style=""></path>
      <path d="M19.5 469.5L12.5 469.5" stroke="#999999" style=""></path>
      <path d="M19.5 459.5L12.5 459.5" stroke="#999999" style=""></path>
      <path d="M19.5 449.5L12.5 449.5" stroke="#999999" style=""></path>
      <path d="M19.5 439.5L12.5 439.5" stroke="#999999" style=""></path>
      <path d="M19.5 429.5L12.5 429.5" stroke="#999999" style=""></path>
      <path d="M19.5 419.5L12.5 419.5" stroke="#999999" style=""></path>
      <path d="M19.5 409.5L-0.5 409.5" stroke="#999999" style=""></path>
      <text x="15" y="410" transform="matrix(0,-1,1,0,-398,422)">
        300
      </text>
      <path d="M19.5 399.5L12.5 399.5" stroke="#999999" style=""></path>
      <path d="M19.5 389.5L12.5 389.5" stroke="#999999" style=""></path>
      <path d="M19.5 379.5L12.5 379.5" stroke="#999999" style=""></path>
      <path d="M19.5 369.5L12.5 369.5" stroke="#999999" style=""></path>
      <path d="M19.5 359.5L12.5 359.5" stroke="#999999" style=""></path>
      <path d="M19.5 349.5L12.5 349.5" stroke="#999999" style=""></path>
      <path d="M19.5 339.5L12.5 339.5" stroke="#999999" style=""></path>
      <path d="M19.5 329.5L12.5 329.5" stroke="#999999" style=""></path>
      <path d="M19.5 319.5L12.5 319.5" stroke="#999999" style=""></path>
      <path d="M19.5 309.5L-0.5 309.5" stroke="#999999" style=""></path>
      <text x="15" y="310" transform="matrix(0,-1,1,0,-298,322)">
        200
      </text>
      <path d="M19.5 299.5L12.5 299.5" stroke="#999999" style=""></path>
      <path d="M19.5 289.5L12.5 289.5" stroke="#999999" style=""></path>
      <path d="M19.5 279.5L12.5 279.5" stroke="#999999" style=""></path>
      <path d="M19.5 269.5L12.5 269.5" stroke="#999999" style=""></path>
      <path d="M19.5 259.5L12.5 259.5" stroke="#999999" style=""></path>
      <path d="M19.5 249.5L12.5 249.5" stroke="#999999" style=""></path>
      <path d="M19.5 239.5L12.5 239.5" stroke="#999999" style=""></path>
      <path d="M19.5 229.5L12.5 229.5" stroke="#999999" style=""></path>
      <path d="M19.5 219.5L12.5 219.5" stroke="#999999" style=""></path>
      <path d="M19.5 209.5L-0.5 209.5" stroke="#999999" style=""></path>
      <path d="M19.5 9.5L-0.5 9.5" stroke="#999999" style=""></path>
      <text x="15" y="210" transform="matrix(0,-1,1,0,-198,222)">
        100
      </text>
      <path d="M19.5 199.5L12.5 199.5" stroke="#999999" style=""></path>
      <path d="M19.5 19.5L12.5 19.5" stroke="#999999" style=""></path>
      <path d="M19.5 189.5L12.5 189.5" stroke="#999999" style=""></path>
      <path d="M19.5 29.5L12.5 29.5" stroke="#999999" style=""></path>
      <path d="M19.5 179.5L12.5 179.5" stroke="#999999" style=""></path>
      <path d="M19.5 39.5L12.5 39.5" stroke="#999999" style=""></path>
      <path d="M19.5 169.5L12.5 169.5" stroke="#999999" style=""></path>
      <path d="M19.5 49.5L12.5 49.5" stroke="#999999" style=""></path>
      <path d="M19.5 159.5L12.5 159.5" stroke="#999999" style=""></path>
      <path d="M19.5 59.5L12.5 59.5" stroke="#999999" style=""></path>
      <path d="M19.5 149.5L12.5 149.5" stroke="#999999" style=""></path>
      <path d="M19.5 69.5L12.5 69.5" stroke="#999999" style=""></path>
      <path d="M19.5 139.5L12.5 139.5" stroke="#999999" style=""></path>
      <path d="M19.5 79.5L12.5 79.5" stroke="#999999" style=""></path>
      <path d="M19.5 129.5L12.5 129.5" stroke="#999999" style=""></path>
      <path d="M19.5 89.5L12.5 89.5" stroke="#999999" style=""></path>
      <path d="M19.5 119.5L12.5 119.5" stroke="#999999" style=""></path>
      <path d="M19.5 99.5L12.5 99.5" stroke="#999999" style=""></path>
      <path d="M19.5 109.5L-0.5 109.5" stroke="#999999" style=""></path>
      <path d="M19.5 109.5L-0.5 109.5" stroke="#999999" style=""></path>
      <text x="15" y="110" transform="matrix(0,-1,1,0,-98,122)">
        0
      </text>
      <path d="M19.5 99.5L12.5 99.5" stroke="#999999" style=""></path>
      <path d="M19.5 119.5L12.5 119.5" stroke="#999999" style=""></path>
    </svg>

    <!-- slot插槽 -->
    <slot></slot>

    <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;">
      <div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div>
    </div>
    <div class="ps-scrollbar-y-rail" style="top: 0px; height: 850px; right: 0px;">
      <div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 0px;"></div>
    </div>
  </div>
</div>
</template>

<script>
import JsLoad from '../utils/js-load'

export default {
  name: 'rule',
  data () {
    return {
      width: 20,
      ref: '.screen',
      strokeColor: '#999',
      corner: '.top-left-corner',
      screenOffset: {},
      ruleOffset: {},
      ruleXOffset: {},
      ruleYOffset: {}
    }
  },
  created () {
    const load = new JsLoad()
    load.createScript(
      'https://cdn.bootcss.com/snap.svg/0.4.1/snap.svg-min.js'
    ).then(e => {
      this.ruleOffset = this.$refs.rule.getBoundingClientRect()
      this.ruleXOffset = this.$refs.ruleX.getBoundingClientRect()
      this.ruleYOffset = this.$refs.ruleY.getBoundingClientRect()
      this.init()
    })
  },
  mounted () {
    var that = this
    // 用that中转this，否则回调函数中的this指向window
    window.addEventListener('resize', function () {
      that.$children[0].getRealTimePos()
      that.init()
    })
    window.addEventListener('scroll', function () {
      // 阻止tab键或其他原因导致body滚动条移动
      document.body.scrollTop && scrollTo(0, 0)
    })
  },
  methods: {
    drawScaleX (paper, len, startPoint) {
      var drawScaleVal = false
      var x, x1, x2, y1, y2

      while (len-- >= 0) {
        x = len * 10
        x1 = x + startPoint
        y1 = this.width
        x2 = x1
        drawScaleVal = len % 10 === 0 // 画刻度值,
        y2 = drawScaleVal ? 0 : (this.width / 2 + 3) // 刻度的Y轴坐标

        this.path(paper, this.getPath(x1, y1, x2, y2))
        x < startPoint && this.path(paper, this.getPath(startPoint - x, y1, startPoint - x, y2))

        if (drawScaleVal) {
          // params: x, y, text
          paper.text(x1 + 5, (this.width / 2) + 1, x + '')
        }
      }
    },
    drawScaleY: function (paper, len, startPoint) {
      var drawScaleVal = false
      var x1, x2, y, y1, y2

      while (len-- >= 0) {
        y = len * 10
        y1 = y + startPoint
        x1 = this.width
        y2 = y1
        drawScaleVal = len % 10 === 0
        x2 = drawScaleVal ? 0 : (this.width / 2 + 3)

        this.path(paper, this.getPath(x1, y1, x2, y2))
        y < startPoint && this.path(paper, this.getPath(x1, startPoint - y, x2, startPoint - y))

        if (drawScaleVal) {
          paper.text(15, y1, y + '').transform(new window.Snap.Matrix().rotate(-90, 12, y1))
        }
      }
    },
    drawRuleX: function () {
      var $ruleX = this.$refs.ruleX
      var snapX = window.Snap($ruleX)
      var width = this.ruleOffset.width - this.width
      var startPoint = this.screenOffset.left - this.ruleXOffset.left
      $ruleX.style.width = width
      this.drawScaleX(snapX.paper, Math.floor((width - startPoint) / 10), startPoint)

      return this
    },
    drawRuleY: function () {
      var $ruleY = this.$refs.ruleY
      var snapY = window.Snap($ruleY)
      var height = this.$refs['phone-container'].scrollHeight
      var startPoint = this.screenOffset.top - this.ruleXOffset.top

      $ruleY.style.height = height
      this.drawScaleY(snapY.paper, Math.floor((height - startPoint) / 10), startPoint)

      return this
    },
    getPath: function (x1, y1, x2, y2) {
      var arr = [x1, y1, x2, y2]

      arr.forEach(function (point, index) {
        arr[index] = point - 0.5 // 处理尺子刻度1px显示粗糙的问题
      })
      // 从点x1, y1到x2, y2
      return 'M' + arr[0] + ' ' + arr[1] + 'L' + arr[2] + ' ' + arr[3]
    },
    path: function (paper, path) {
      paper.path(path).attr({
        stroke: this.strokeColor
      })
    },
    init: function () {
      this.$refs.ruleX.innerHTML = ''
      this.$refs.ruleY.innerHTML = ''
      this.drawRuleX()
      this.drawRuleY()
    }
  }
}
</script>

<style lang="stylus">
.rule
  height 100%
  width 100%
  z-index 10
  overflow hidden
  position relative
.top-left-corner
  width 20px
  height 20px
  border-right 1px solid #888
  border-bottom 1px solid #888
  display block
  position absolute
  background #fff
.rule-x
  height 20px
  width 100%
  position absolute
  left 0
  margin-left 20px
  z-index 3
  background-color #fff
  border-bottom 1px solid #999
  font-size 9px
#phone-container
  margin 0px
  position absolute
  width 100%
  top 20px
  bottom 0px
.rule-y
  width 20px
  height 100%
  left 0
  position absolute
  z-index 3
  background-color #fff
  border-right 1px solid #999
  font-size 9px
</style>
